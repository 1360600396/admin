{"remainingRequest":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\Login\\index.vue","mtime":1704167080709},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\babel.config.js","mtime":1704165997482},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714140753088},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1714140751623},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714140753088},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714140753454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvenhiL0Rlc2t0b3AvXHU5RUQxXHU5QTZDXHU1MjREXHU3QUVGL1x1OEJGRVx1NEVGNlx1NkU5MFx1NzgwMVx1OEQ0NFx1NjU5OS9cdTk2MzZcdTZCQjVcdTRFOTQgVnVlMitWdWUzXHU5ODc5XHU3NkVFXHU1QjlFXHU2MjE4XHU1RjAwXHU1M0QxL1x1OUVEMVx1OUE2Q1x1NjY3QVx1NjU3MFx1OTg3OVx1NzZFRS1cdTkxNERcdTU5NTdcdThENDRcdTY1OTkvXHU5RUQxXHU5QTZDXHU2NjdBXHU2NTcwXHU5ODc5XHU3NkVFLVx1OTE0RFx1NTk1N1x1OEQ0NFx1NjU5OS9cdTk4NzlcdTc2RUVcdTRFRTNcdTc4MDEvaG16cy9obXpzLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvenhiL0Rlc2t0b3AvXHU5RUQxXHU5QTZDXHU1MjREXHU3QUVGL1x1OEJGRVx1NEVGNlx1NkU5MFx1NzgwMVx1OEQ0NFx1NjU5OS9cdTk2MzZcdTZCQjVcdTRFOTQgVnVlMitWdWUzXHU5ODc5XHU3NkVFXHU1QjlFXHU2MjE4XHU1RjAwXHU1M0QxL1x1OUVEMVx1OUE2Q1x1NjY3QVx1NjU3MFx1OTg3OVx1NzZFRS1cdTkxNERcdTU5NTdcdThENDRcdTY1OTkvXHU5RUQxXHU5QTZDXHU2NjdBXHU2NTcwXHU5ODc5XHU3NkVFLVx1OTE0RFx1NTk1N1x1OEQ0NFx1NjU5OS9cdTk4NzlcdTc2RUVcdTRFRTNcdTc4MDEvaG16cy9obXpzLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKdmFyIFJFTUVNQkVSX0tFWSA9ICdyZW1lbWJlcl9rZXknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6KGo5Y2V5a+56LGhCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJlbWVtYmVyOiBmYWxzZSwKICAgICAgLy8g6KeE5YiZ5a+56LGhCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXotKblj7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDljrvmnKzlnLDlj5bkuIDkuIvkuYvliY3lrZjlhaXnmoTotKblj7flkozlr4bnoIEg5aaC5p6c5Y+W5Yiw5LqGIOi1i+WAvOaTjeS9nAogICAgdmFyIGZvcm1TdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShSRU1FTUJFUl9LRVkpOwogICAgaWYgKGZvcm1TdHIpIHsKICAgICAgdmFyIGZvcm1PYmogPSBKU09OLnBhcnNlKGZvcm1TdHIpOwogICAgICB0aGlzLmZvcm0gPSBmb3JtT2JqOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5IYW5kbGVyOiBmdW5jdGlvbiBsb2dpbkhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmt7vliqDorrDkvY/miJHpgLvovpEKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZW1lbWJlcikgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShSRU1FTUJFUl9LRVksIEpTT04uc3RyaW5naWZ5KF90aGlzLmZvcm0pKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFJFTUVNQkVSX0tFWSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBUT0RPIExPR0lOCiAgICAgICAgICAgICAgICAvLyDov5nph4znoa7kv510b2tlbui/lOWbnuS5i+WQjuWGjei3s+i9rOWIsOmmlumhtSDpmLLmraLpppbpobXmnInkuIDkupvpnIDopoHkvp3otZZ0b2tlbueahOmAu+i+kQogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyL2FzeW5jTG9naW4nLCBfdGhpcy5mb3JtKTsKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAvLyDot7PovazliLDpppbpobUKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgLy8g5o+Q56S655So5oi355m75b2V5oiQ5YqfCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+eZu+W9leaIkOWKnycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["REMEMBER_KEY","name","data","form","username","password","remember","rules","required","message","trigger","created","formStr","localStorage","getItem","formObj","JSON","parse","methods","loginHandler","_this","$refs","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","wrap","_callee$","_context","prev","next","setItem","stringify","removeItem","$store","dispatch","$router","push","$message","type","stop","_x","apply","arguments"],"sources":["src/views/Login/index.vue"],"sourcesContent":["<template>\n  <div class=\"login_body\">\n    <div class=\"bg\" />\n    <div class=\"box\">\n      <div class=\"title\">智慧园区-登录</div>\n      <!--\n        基础校验\n          el-form  :model=\"表单对象\" :rules=\"规则对象\"\n          el-form-item  prop属性指定一下要使用哪条规则\n          el-input  v-model双向绑定\n\n        统一校验\n          1. 获取表单的实例对象\n          2. 调用validate方法\n       -->\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n        <el-form-item\n          label=\"账号\"\n          prop=\"username\"\n        >\n          <el-input v-model=\"form.username\" />\n        </el-form-item>\n\n        <el-form-item\n          label=\"密码\"\n          prop=\"password\"\n        >\n          <el-input v-model=\"form.password\" />\n        </el-form-item>\n        <!--\n          1. 完成选择框的双向绑定 得到一个true或者false的选中状态\n          2. 如果当前为true，点击登录时，表示要记住，把当前的用户名和密码存入本地\n          3. 组件初始化的时候，从本地取账号和密码，把账号密码存入用来双向绑定的form身上\n          4. 如果当前用户没有记住，状态为false，点击登录的时候要把之前的数据清空\n         -->\n        <el-form-item prop=\"remember\">\n          <el-checkbox v-model=\"remember\">记住我</el-checkbox>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" class=\"login_btn\" @click=\"loginHandler\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nconst REMEMBER_KEY = 'remember_key'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      // 表单对象\n      form: {\n        username: '',\n        password: ''\n      },\n      remember: false,\n      // 规则对象\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入账号',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  created() {\n    // 去本地取一下之前存入的账号和密码 如果取到了 赋值操作\n    const formStr = localStorage.getItem(REMEMBER_KEY)\n    if (formStr) {\n      const formObj = JSON.parse(formStr)\n      this.form = formObj\n    }\n  },\n  methods: {\n    loginHandler() {\n      this.$refs.form.validate(async valid => {\n        // 所有的表单项都通过校验 valid变量才为true 否则就是false\n        if (valid) {\n          // 添加记住我逻辑\n          if (this.remember) {\n            localStorage.setItem(REMEMBER_KEY, JSON.stringify(this.form))\n          } else {\n            localStorage.removeItem(REMEMBER_KEY)\n          }\n          // TODO LOGIN\n          // 这里确保token返回之后再跳转到首页 防止首页有一些需要依赖token的逻辑\n          await this.$store.dispatch('user/asyncLogin', this.form)\n          // 跳转到首页\n          this.$router.push('/')\n          // 提示用户登录成功\n          this.$message({\n            type: 'success',\n            message: '登录成功'\n          })\n        }\n      })\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n  .login_body {\n    display: flex;\n  }\n  .bg {\n    width: 60vw;\n    height: 100vh;\n    background: url('~@/assets/login-bg.svg') no-repeat;\n    background-position: right top;\n    background-size: cover;\n  }\n  .box {\n    margin: 200px 10% 0;\n    flex: 1;\n    .title {\n      padding-bottom: 76px;\n      font-size: 26px;\n      font-weight: 500;\n      color: #1e2023;\n    }\n    ::v-deep() {\n      .ant-form-item {\n        display: flex;\n        margin-bottom: 62px;\n        flex-direction: column;\n      }\n      .ant-form-item-label label {\n        font-size: 16px;\n        color: #8b929d;\n      }\n      .ant-input,\n      .ant-input-password {\n        border-radius: 8px;\n      }\n    }\n  }\n  .login_btn{\n    width: 100%;\n  }\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,IAAAA,YAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,IAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,QAAA;MACA;MACAC,KAAA;QACAH,QAAA,GACA;UACAI,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,EACA;QACAL,QAAA,GACA;UACAG,QAAA;UACAC,OAAA;UACAC,OAAA;QACA;MAEA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA;IACA,IAAAC,OAAA,GAAAC,YAAA,CAAAC,OAAA,CAAAd,YAAA;IACA,IAAAY,OAAA;MACA,IAAAG,OAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAL,OAAA;MACA,KAAAT,IAAA,GAAAY,OAAA;IACA;EACA;EACAG,OAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,KAAA,CAAAlB,IAAA,CAAAmB,QAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAAC,KAAA;UAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAA,KAEAL,KAAA;kBAAAG,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBACA;gBACA,IAAAb,KAAA,CAAAd,QAAA;kBACAO,YAAA,CAAAqB,OAAA,CAAAlC,YAAA,EAAAgB,IAAA,CAAAmB,SAAA,CAAAf,KAAA,CAAAjB,IAAA;gBACA;kBACAU,YAAA,CAAAuB,UAAA,CAAApC,YAAA;gBACA;gBACA;gBACA;gBAAA+B,QAAA,CAAAE,IAAA;gBAAA,OACAb,KAAA,CAAAiB,MAAA,CAAAC,QAAA,oBAAAlB,KAAA,CAAAjB,IAAA;cAAA;gBACA;gBACAiB,KAAA,CAAAmB,OAAA,CAAAC,IAAA;gBACA;gBACApB,KAAA,CAAAqB,QAAA;kBACAC,IAAA;kBACAjC,OAAA;gBACA;cAAA;cAAA;gBAAA,OAAAsB,QAAA,CAAAY,IAAA;YAAA;UAAA,GAAAhB,OAAA;QAAA,CAEA;QAAA,iBAAAiB,EAAA;UAAA,OAAArB,IAAA,CAAAsB,KAAA,OAAAC,SAAA;QAAA;MAAA;IACA;EACA;AACA"}]}