{"remainingRequest":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\System\\Employee\\index.vue?vue&type=style&index=0&id=192b8832&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\System\\Employee\\index.vue","mtime":1704167259773},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":1714140750111},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1714140755034},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1714140753336},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1714140750590},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714140753088},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714140753454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZW1wbG95ZWUtY29udGFpbmVyIHsKICBwYWRkaW5nOiAyMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KCi5zZWFyY2gtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYigyMzcsIDIzNywgMjM3LCAuOSk7CiAgOwogIHBhZGRpbmctYm90dG9tOiAyMHB4OwoKICAuc2VhcmNoLWxhYmVsIHsKICAgIHdpZHRoOiAxMDBweDsKICB9CgogIC5zZWFyY2gtbWFpbiB7CiAgICB3aWR0aDogMjIwcHg7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgfQp9Ci5jcmVhdGUtY29udGFpbmVyewogIG1hcmdpbjogMTBweCAwcHg7Cn0KLnBhZ2UtY29udGFpbmVyewogIHBhZGRpbmc6NHB4IDBweDsKICB0ZXh0LWFsaWduOiByaWdodDsKfQouZm9ybS1jb250YWluZXJ7CiAgcGFkZGluZzowcHggODBweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/System/Employee","sourcesContent":["<template>\n  <div class=\"employee-container\">\n    <!-- 搜索区域 -->\n    <div class=\"search-container\">\n      <div class=\"search-label\">员工姓名：</div>\n      <el-input v-model=\"params.name\" clearable placeholder=\"请输入内容\" class=\"search-main\" />\n      <el-button type=\"primary\">查询</el-button>\n    </div>\n    <div class=\"create-container\">\n      <el-button type=\"primary\" @click=\"addEmployee\">添加员工</el-button>\n    </div>\n    <!-- 表格区域 -->\n    <div class=\"table\">\n      <el-table style=\"width: 100%\" :data=\"employeeList\">\n        <el-table-column type=\"index\" label=\"序号\" />\n        <el-table-column label=\"员工姓名\" width=\"180\" prop=\"name\" />\n        <el-table-column label=\"登录账号\" width=\"180\" prop=\"userName\" />\n        <el-table-column label=\"联系方式\" width=\"120\" prop=\"phonenumber\" />\n        <el-table-column label=\"角色\" width=\"120\" prop=\"roleName\" />\n        <el-table-column label=\"状态\">\n          <template #default=\"scope\">\n            {{ formatStatus(scope.row.status) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"添加时间\" prop=\"createTime\" width=\"180\" />\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"180\">\n          <template #default=\"scope\">\n            <el-button size=\"mini\" type=\"text\">编辑</el-button>\n            <el-button size=\"mini\" type=\"text\" @click=\"delEmployee(scope.row.id)\">删除</el-button>\n            <el-button size=\"mini\" type=\"text\">重置密码</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"page-container\">\n      <el-pagination\n        layout=\"total, prev, pager, next\"\n        :page-size=\"params.pageSize\"\n        :total=\"total\"\n        @current-change=\"pageChange\"\n      />\n    </div>\n    <!-- 添加员工 -->\n    <el-dialog\n      title=\"添加员工\"\n      :visible=\"dialogVisible\"\n      width=\"480px\"\n      @close=\"closeDialog\"\n      @open=\"openDialog\"\n    >\n      <!-- 表单接口 -->\n      <div class=\"form-container\">\n        <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"addFormRules\" label-width=\"80px\">\n          <el-form-item label=\"员工姓名\" prop=\"name\">\n            <el-input v-model=\"addForm.name\" />\n          </el-form-item>\n          <el-form-item label=\"登录账号\" prop=\"userName\">\n            <el-input v-model=\"addForm.userName\" />\n          </el-form-item>\n          <el-form-item label=\"联系方式\" prop=\"phonenumber\">\n            <el-input v-model=\"addForm.phonenumber\" />\n          </el-form-item>\n          <el-form-item label=\"分配角色\" prop=\"roleId\">\n            <el-select v-model=\"addForm.roleId\" placeholder=\"请选择角色\">\n              <el-option\n                v-for=\"item in roleList\"\n                :key=\"item.roleId\"\n                :label=\"item.roleName\"\n                :value=\"item.roleId\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"员工状态\" prop=\"status\">\n            <el-radio-group v-model=\"addForm.status\">\n              <el-radio :label=\"0\">禁用</el-radio>\n              <el-radio :label=\"1\">启用</el-radio>\n            </el-radio-group>\n          </el-form-item>\n        </el-form>\n      </div>\n      <template #footer>\n        <el-button size=\"mini\" @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"confirmAdd\">确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getEmployeeListAPI, getRoleListAPI, createEmployeeAPI, delEmployeeAPI } from '@/api/system'\nexport default {\n  name: 'Employee',\n  data() {\n    return {\n      employeeList: [],\n      params: {\n        page: 1,\n        pageSize: 2,\n        name: '' // 员工姓名\n      },\n      total: 0,\n      dialogVisible: false,\n      roleList: [], // 角色列表\n      addForm: {\n        name: '',\n        phonenumber: '',\n        roleId: '',\n        status: 1,\n        userName: ''\n      },\n      addFormRules: {\n        name: [\n          { required: true, message: '请输入员工姓名', trigger: 'blur' }\n        ],\n        userName: [\n          { required: true, message: '请输入登录账号', trigger: 'blur' }\n        ],\n        phonenumber: [\n          { required: true, message: '请输入联系方式', trigger: 'blur' }\n        ],\n        roleId: [\n          { required: true, message: '请分配角色', trigger: 'blur' }\n        ],\n        status: [\n          { required: true, message: '请选择员工状态', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.getEmployeeList()\n  },\n  methods: {\n    // 获取员工列表\n    async getEmployeeList() {\n      const res = await getEmployeeListAPI(this.params)\n      this.employeeList = res.data.rows\n      this.total = res.data.total\n    },\n    // 翻页\n    pageChange(page) {\n      this.params.page = page\n      this.getEmployeeList()\n    },\n    // 关闭弹框\n    closeDialog() {\n      this.dialogVisible = false\n    },\n    // 打开弹框\n    addEmployee() {\n      this.dialogVisible = true\n    },\n    async openDialog() {\n      const res = await getRoleListAPI()\n      this.roleList = res.data\n    },\n    // 确认添加\n    async confirmAdd() {\n      await createEmployeeAPI(this.addForm)\n      this.dialogVisible = false\n      this.getEmployeeList()\n    },\n    delEmployee(id) {\n      this.$confirm('删除员工后将不可登录，确认删除吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async() => {\n        await delEmployeeAPI(id)\n        this.$message({\n          type: 'success',\n          message: '删除成功'\n        })\n        this.getEmployeeList()\n      })\n    },\n    // 适配员工状态\n    formatStatus(status) {\n      return status === 1 ? '启用' : '禁用'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.employee-container {\n  padding: 20px;\n  background-color: #fff;\n}\n\n.search-container {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgb(237, 237, 237, .9);\n  ;\n  padding-bottom: 20px;\n\n  .search-label {\n    width: 100px;\n  }\n\n  .search-main {\n    width: 220px;\n    margin-right: 10px;\n  }\n}\n.create-container{\n  margin: 10px 0px;\n}\n.page-container{\n  padding:4px 0px;\n  text-align: right;\n}\n.form-container{\n  padding:0px 80px;\n}\n</style>\n"]}]}