{"remainingRequest":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\Login\\index.vue?vue&type=style&index=0&id=aeba673c&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\src\\views\\Login\\index.vue","mtime":1704167080709},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":1714140750111},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1714140755034},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":1714140753336},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1714140750590},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714140753088},{"path":"C:\\Users\\zxb\\Desktop\\黑马前端\\课件源码资料\\阶段五 Vue2+Vue3项目实战开发\\黑马智数项目-配套资料\\黑马智数项目-配套资料\\项目代码\\hmzs\\hmzs-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1714140753454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW5fYm9keSB7CiAgZGlzcGxheTogZmxleDsKfQouYmcgewogIHdpZHRoOiA2MHZ3OwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZDogdXJsKCd+QC9hc3NldHMvbG9naW4tYmcuc3ZnJykgbm8tcmVwZWF0OwogIGJhY2tncm91bmQtcG9zaXRpb246IHJpZ2h0IHRvcDsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwp9Ci5ib3ggewogIG1hcmdpbjogMjAwcHggMTAlIDA7CiAgZmxleDogMTsKICAudGl0bGUgewogICAgcGFkZGluZy1ib3R0b206IDc2cHg7CiAgICBmb250LXNpemU6IDI2cHg7CiAgICBmb250LXdlaWdodDogNTAwOwogICAgY29sb3I6ICMxZTIwMjM7CiAgfQogIDo6di1kZWVwKCkgewogICAgLmFudC1mb3JtLWl0ZW0gewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBtYXJnaW4tYm90dG9tOiA2MnB4OwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgfQogICAgLmFudC1mb3JtLWl0ZW0tbGFiZWwgbGFiZWwgewogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjOGI5MjlkOwogICAgfQogICAgLmFudC1pbnB1dCwKICAgIC5hbnQtaW5wdXQtcGFzc3dvcmQgewogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICB9CiAgfQp9Ci5sb2dpbl9idG57CiAgd2lkdGg6IDEwMCU7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div class=\"login_body\">\n    <div class=\"bg\" />\n    <div class=\"box\">\n      <div class=\"title\">智慧园区-登录</div>\n      <!--\n        基础校验\n          el-form  :model=\"表单对象\" :rules=\"规则对象\"\n          el-form-item  prop属性指定一下要使用哪条规则\n          el-input  v-model双向绑定\n\n        统一校验\n          1. 获取表单的实例对象\n          2. 调用validate方法\n       -->\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n        <el-form-item\n          label=\"账号\"\n          prop=\"username\"\n        >\n          <el-input v-model=\"form.username\" />\n        </el-form-item>\n\n        <el-form-item\n          label=\"密码\"\n          prop=\"password\"\n        >\n          <el-input v-model=\"form.password\" />\n        </el-form-item>\n        <!--\n          1. 完成选择框的双向绑定 得到一个true或者false的选中状态\n          2. 如果当前为true，点击登录时，表示要记住，把当前的用户名和密码存入本地\n          3. 组件初始化的时候，从本地取账号和密码，把账号密码存入用来双向绑定的form身上\n          4. 如果当前用户没有记住，状态为false，点击登录的时候要把之前的数据清空\n         -->\n        <el-form-item prop=\"remember\">\n          <el-checkbox v-model=\"remember\">记住我</el-checkbox>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" class=\"login_btn\" @click=\"loginHandler\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nconst REMEMBER_KEY = 'remember_key'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      // 表单对象\n      form: {\n        username: '',\n        password: ''\n      },\n      remember: false,\n      // 规则对象\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入账号',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  created() {\n    // 去本地取一下之前存入的账号和密码 如果取到了 赋值操作\n    const formStr = localStorage.getItem(REMEMBER_KEY)\n    if (formStr) {\n      const formObj = JSON.parse(formStr)\n      this.form = formObj\n    }\n  },\n  methods: {\n    loginHandler() {\n      this.$refs.form.validate(async valid => {\n        // 所有的表单项都通过校验 valid变量才为true 否则就是false\n        if (valid) {\n          // 添加记住我逻辑\n          if (this.remember) {\n            localStorage.setItem(REMEMBER_KEY, JSON.stringify(this.form))\n          } else {\n            localStorage.removeItem(REMEMBER_KEY)\n          }\n          // TODO LOGIN\n          // 这里确保token返回之后再跳转到首页 防止首页有一些需要依赖token的逻辑\n          await this.$store.dispatch('user/asyncLogin', this.form)\n          // 跳转到首页\n          this.$router.push('/')\n          // 提示用户登录成功\n          this.$message({\n            type: 'success',\n            message: '登录成功'\n          })\n        }\n      })\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n  .login_body {\n    display: flex;\n  }\n  .bg {\n    width: 60vw;\n    height: 100vh;\n    background: url('~@/assets/login-bg.svg') no-repeat;\n    background-position: right top;\n    background-size: cover;\n  }\n  .box {\n    margin: 200px 10% 0;\n    flex: 1;\n    .title {\n      padding-bottom: 76px;\n      font-size: 26px;\n      font-weight: 500;\n      color: #1e2023;\n    }\n    ::v-deep() {\n      .ant-form-item {\n        display: flex;\n        margin-bottom: 62px;\n        flex-direction: column;\n      }\n      .ant-form-item-label label {\n        font-size: 16px;\n        color: #8b929d;\n      }\n      .ant-input,\n      .ant-input-password {\n        border-radius: 8px;\n      }\n    }\n  }\n  .login_btn{\n    width: 100%;\n  }\n</style>\n"]}]}